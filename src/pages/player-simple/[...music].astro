---
import { getCollection } from 'astro:content';

import { hasSuitableSource } from "@lib/util";
import Layout from "@lib/layouts/Player.astro";

export async function getStaticPaths() {
    const songList = await getCollection("music");
    return songList.filter(({data}) => data.sources.find(hasSuitableSource) != null).map((song) => {
        return {
            params: { music: song.id },
            props: { music: song.data }
        }
    });
}
---
<Layout music={Astro.props.music} flashSrc="/yonic-corner-music-player-simple.swf" />